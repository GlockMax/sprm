<MenuScreen>:

    MDBoxLayout:
        orientation: "horizontal"
        padding: [30, 30, 30, 30]
        spacing: 30


        MDGridLayout:
            rows: 2
            padding: [50, 50, 0, 50]
            spacing: 30
            pos_hint: {"center_x": 0.5, "center_y": .3}
            MDBoxLayout:
                size_hint_y: None
                AnchorLayout:
                    anchor_x: "center"
                    anchor_y: "bottom"
                    pos_hint: {"center_x": 0.5, "center_y": .1}

                    MDLabel:
                        #bold: True
                        markup: True
                        text: "[b]Ваши фамилия, имя и отчество[/b]\n[size=14]Запишите без ошибок, через пробелы и нажмите Enter[/size]"
                        font_size: "20sp"
                        halign: "center"

            MDBoxLayout:
                size_hint_y: None
                AnchorLayout:
                    anchor_x: "center"
                    anchor_y: "top"
                    pos_hint: {"center_x": 0.5, "center_y": 0.1}

                    MDTextField:
                        id: teacher
                        hint_text: "ФИО"
                        mode: "rectangle"
                        size_hint_max_x: 300
                        padding: [0, 0, 0, 0]
                        multiline: False
                        helper_text_mode: "on_error"
                        required: True
                        #on_text_validate: root.save_teacher()
                        on_focus: if self.focus: root.teacher_menu.open()


        MDGridLayout:
            id: nav_button
            rows: 4
            padding: [30, 50, 0, 50]
            spacing: 30
            pos_hint: {"center_x": 0.5, "center_y": .3}
            disabled: True

            MDFlatButton:
                text: "Создать новый отчёт"
                font_size: "14sp"
                on_release:
                    root.manager.current = "create_report"
                    #root.manager.current = "success"
                    root.manager.transition.direction = "left"

            MDFlatButton:
                id: history_button
                text: "История отчётов"
                font_size: "14sp"
                disabled: True
                on_release:
                    root.manager.current = "history"
                    root.manager.transition.direction = "left"

            MDFlatButton:
                text: "Взять из файла"
                font_size: "14sp"
                on_release:
                    root.manager.current = "import"
                    root.manager.transition.direction = "left"

            MDFlatButton:
                id: stats_button
                text: "Статистика"
                font_size: "14sp"
                disabled: True
                on_release:
                    root.manager.current = "stats"
                    root.manager.transition.direction = "left"

#=====================================================================#
#/////////////////////////////////////////////////////////////////////#
#=====================================================================#

#=====================================================================#
#/////////////////////////////////////////////////////////////////////#
#=====================================================================#

<CreateReportScreen>:

    MDBoxLayout:
        id: main_widget
        orientation: "vertical"
        padding: [30, 0, 30, 30]

        MDToolbar:
            id: toolbar
            title: "Создать отчёт"
            md_bg_color: 0, 0, 1, 0
            specific_text_color: "black"
            left_action_items: [["arrow-left", lambda x: app.back()]]

        MDFloatLayout:
            id: second_layout

            MDBoxLayout:
                id: main_layout
                orientation: "vertical"
                #rows: 7
                padding: [50, 30, 50, 0]
                spacing: 0

        # ========= ПРЕДМЕТ ======== #
                MDBoxLayout:
                    spacing: 30
                    size_hint_y: None

                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': 1}

                        MDLabel:
                            id: course_label
                            text: "Предмет:"
                            font_size: "14sp"
                            size_hint_y: None
                            markup: True
                            size_hint_x: 1
                            halign: "right"

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': 1}

                        MDTextField:
                            id: course
                            mode: "line"
                            font_size: "14sp"
                            size_hint_max_x: 250
                            line_color_normal: 0, 0, 0, 1
                            line_color_focus: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_focus: if self.focus: root.course_menu.open()
                            on_text_validate: root.switch_focus(self)

        # ========= КЛАСС ======== #
                MDBoxLayout:
                    spacing: 30
                    size_hint_y: None
                    size_hint_x: None
                    width: self.minimum_width * 4
                    pos_hint: {"center_x": .5}
                    pos: 442, 426

                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "top"
                        pos_hint: {'center_x': .5, 'center_y': 1.25}

                        MDLabel:
                            id: n_class_label
                            text: "Класс:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: None
                            markup: True
                            halign: "right"

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': 1.25}

                        MDTextField:
                            id: n_class
                            hint_text: ""
                            size_hint_max_x: 70
                            font_size: "14sp"
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            line_color_focus: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_focus: if self.focus: root.n_class_menu.open()
                            on_text_validate: root.switch_focus(self)
                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "top"
                        pos_hint: {'center_x': .5, 'center_y': 1.25}

                        MDLabel:
                            id: letter_label
                            text: "Литера:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: None
                            markup: True
                            halign: "right"

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': 1.25}

                        MDTextField:
                            id: letter
                            hint_text: ""
                            size_hint_max_x: 70
                            font_size: "14sp"
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            line_color_focus: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_focus: if self.focus: root.n_class_menu.open()
                            on_text_validate: root.switch_focus(self)

        # ========= КОЛ-ВО ЧЕЛОВЕК ======== #
                MDBoxLayout:
                    spacing: 30
                    size_hint_y: None

                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': 1.5}

                        MDLabel:
                            id: humans_label
                            text: "Количество человек:"
                            font_size: "14sp"
                            size_hint_y: None
                            markup: True
                            size_hint_x: 1
                            halign: "right"

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': 1.5}

                        MDTextField:
                            id: humans
                            hint_text: ""
                            size_hint_max_x: 70
                            font_size: "14sp"
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            line_color_focus: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_text_validate: root.switch_focus(self)

        # ========= ТИП ОТЧЁТА ======== #
                MDBoxLayout:
                    spacing: 30
                    size_hint_y: None

                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .9, 'center_y': 1.75}

                        MDLabel:
                            id: report_type_label
                            text: "Тип отчёта:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: 1
                            halign: "right"
                            markup: True

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .9, 'center_y': 1.75}

                        MDDropDownItem:
                            id: report_type
                            font_size: "14sp"
                            padding: [0, 0, 0, 0]
                            text: "Выберете тип отчёта"
                            halign: "left"
                            on_release: root.report_type.open()

        # ========= ПАРАМЕТРЫ ТИПА ОТЧЁТА: ======== #
                MDBoxLayout:
                    #cols: 2
                    orientation: "horizontal"
                    spacing: 0
                    size_hint_x: 0.5
                    pos_hint: {"center_x": 0.5}


        # ========= ДЛЯ КР: ======== #
                    MDGridLayout:
                        id: tests
                        rows: 2
                        spacing: 0
                        disabled: True

            # ========= ДАТА ПРОВЕДЕНИЯ ======== #
                        MDBoxLayout:
                            spacing: 30
                            size_hint_y: None

                            AnchorLayout:
                                anchor_x: "right"
                                anchor_y: "center"
                                pos_hint: {'center_x': .9, 'center_y': 2}

                                MDLabel:
                                    id: date_label
                                    text: "Дата:"
                                    markup: True
                                    font_size: "14sp"
                                    size_hint_y: None
                                    size_hint_x: 1
                                    halign: "right"
                                    markup: True

                            AnchorLayout:
                                anchor_x: "left"
                                anchor_y: "center"
                                pos_hint: {'center_x': .9, 'center_y': 2}

                                MDRaisedButton:
                                    id: date
                                    text: "Выбрать день"
                                    font_size: "14sp"
                                    padding: [0, 0, 0, 0]
                                    on_release: root.show_date_picker()
            # ========= КОЛ-ВО ЧЕЛОВЕК НА КР ======== #
                        MDBoxLayout:
                            spacing: 30
                            size_hint_y: None

                            AnchorLayout:
                                anchor_x: "right"
                                anchor_y: "center"
                                pos_hint: {'center_x': .9, 'center_y': 2.25}

                                MDLabel:
                                    id: curr_humans_label
                                    text: "Сколько человек было на контрольной работе:"
                                    font_size: "14sp"
                                    size_hint_y: None
                                    size_hint_x: 1
                                    halign: "right"
                                    markup: True

                            AnchorLayout:
                                anchor_x: "left"
                                anchor_y: "center"
                                pos_hint: {'center_x': .9, 'center_y': 2.25}

                                MDTextField:
                                    id: curr_humans
                                    hint_text: ""
                                    size_hint_max_x: 70
                                    font_size: "14sp"
                                    mode: "line"
                                    line_color_normal: 0, 0, 0, 1
                                    padding: [0, 0, 0, 0]
                                    on_text_validate: root.switch_focus(self)

        # ========= ДЛЯ ЧЕТВЕРТЕЙ: ======== #
                    MDGridLayout:
                        id: quarters
                        rows: 1
                        padding: [0, 0, 0, 0]
                        spacing: 0
                        disabled: True

            # ========= № ЧЕТВЕРТИ ======== #
                        MDBoxLayout:
                            spacing: 30
                            size_hint_y: None

                            AnchorLayout:
                                anchor_x: "right"
                                anchor_y: "center"
                                pos_hint: {'center_x': .9, 'center_y': 2}

                                MDLabel:
                                    id: n_quarter_label
                                    text: "Четверть:"
                                    font_size: "14sp"
                                    size_hint_y: None
                                    size_hint_x: 1
                                    halign: "right"
                                    markup: True

                            AnchorLayout:
                                anchor_x: "left"
                                anchor_y: "center"
                                pos_hint: {'center_x': .9, 'center_y': 2}

                                MDDropDownItem:
                                    id: n_quarter
                                    padding: [0, 0, 0, 0]
                                    font_size: "14sp"
                                    text: "Выберете четверть"
                                    halign: "left"
                                    on_release: root.n_quarter.open()

        # ========= ОЦЕНКИ: ======== #
                MDBoxLayout:
                    id: e
                    spacing: 30
                    size_hint_y: None
                    size_hint_x: 0.7
                    width: self.minimum_width*4
                    pos_hint: {"center_x": 0.5}

        # ========= ПЯТЁРКИ ======== #
                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDLabel:
                            id: i5_label
                            text: "5:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: None
                            halign: "right"
                            markup: True

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDTextField:
                            id: i5
                            hint_text: ""
                            size_hint_max_x: 70
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_text_validate: root.switch_focus(self)

        # ========= ЧЕТВЁРКИ ======== #
                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDLabel:
                            id: i4_label
                            text: "4:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: None
                            halign: "right"
                            markup: True

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDTextField:
                            id: i4
                            hint_text: ""
                            size_hint_max_x: 70
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_text_validate: root.switch_focus(self)

        # ========= ТРОЙКИ ======== #
                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDLabel:
                            id: i3_label
                            text: "3:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: None
                            halign: "right"
                            markup: True

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDTextField:
                            id: i3
                            hint_text: ""
                            size_hint_max_x: 70
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_text_validate: root.switch_focus(self)

        # ========= ДВОЙКИ ======== #
                    AnchorLayout:
                        anchor_x: "right"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDLabel:
                            id: i2_label
                            text: "2:"
                            font_size: "14sp"
                            size_hint_y: None
                            size_hint_x: None
                            halign: "right"
                            markup: True

                    AnchorLayout:
                        anchor_x: "left"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .7}

                        MDTextField:
                            id: i2
                            hint_text: ""
                            size_hint_max_x: 70
                            mode: "line"
                            line_color_normal: 0, 0, 0, 1
                            padding: [0, 0, 0, 0]
                            on_text_validate: root.switch_focus(self)

        # ========= ННОПКА СОЗДАНИЯ ОТЧЁТА ======== #
                MDBoxLayout:
                    size_hint_y: None

                    AnchorLayout:
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        anchor_x: "center"
                        anchor_y: "top"

                        MDRectangleFlatIconButton:
                            id: create_button
                            icon: "creation"
                            text: "Создать"
                            font_size: "14sp"
                            on_release: root.create_report()
            MDBoxLayout:
                id: success
                orientation: "vertical"
                pos: (320, 72)
                opacity: 0

                MDBoxLayout
                    spacing: 30
                    pos_hint: {'center_x': .5, 'center_y': .30}
                    padding: [0, 0, 0, 60]

                    AnchorLayout:
                        anchor_x: "center"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .30}

                        MDIcon:
                            icon: "checkbox-marked-circle-outline"
                            font_size: "48sp"
                            halign: "right"
                            color: "#4caf50"

                    AnchorLayout:
                        anchor_x: "center"
                        anchor_y: "center"
                        pos_hint: {'center_x': .5, 'center_y': .30}

                        MDLabel:
                            text: "Отчёт создан!"
                            font_size: "20sp"
                            bold: True
                            size_hint_y: None
                            halign: "left"

                MDGridLayout:
                    rows: 4
                    spacing: 60

                    MDBoxLayout:
                        rows: 4
                        spacing: 30
                        pos_hint: {'center_x': .5, 'center_y': 1}

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 1}

                            MDLabel:
                                text: "Успеваемость:"
                                font_size: "14sp"
                                bold: True
                                size_hint_y: None
                                halign: "right"

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 1}

                            MDLabel:
                                id: perf
                                text: ""
                                font_size: "14sp"
                                size_hint_y: None
                                halign: "left"

                    MDBoxLayout:
                        spacing: 30
                        pos_hint: {'center_x': .5, 'center_y': 1.5}

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 1.5}

                            MDLabel:
                                text: "Качество:"
                                font_size: "14sp"
                                bold: True
                                size_hint_y: None
                                halign: "right"

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 1.5}

                            MDLabel:
                                id: qual
                                text: ""
                                font_size: "14sp"
                                size_hint_y: None
                                halign: "left"

                    MDBoxLayout:
                        spacing: 30
                        pos_hint: {'center_x': .5, 'center_y': 2}

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 2}

                            MDLabel:
                                text: "Средний балл:"
                                font_size: "14sp"
                                bold: True
                                size_hint_y: None
                                halign: "right"

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 2}

                            MDLabel:
                                id: aver
                                text: ""
                                font_size: "14sp"
                                size_hint_y: None
                                halign: "left"

                    MDBoxLayout:
                        spacing: 30
                        pos_hint: {'center_x': .5, 'center_y': 2.5}

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 2.5}

                            MDLabel:
                                text: "СОК:"
                                font_size: "14sp"
                                bold: True
                                size_hint_y: None
                                halign: "right"

                        AnchorLayout:
                            anchor_x: "center"
                            anchor_y: "center"
                            pos_hint: {'center_x': .5, 'center_y': 2.5}

                            MDLabel:
                                id: sok
                                text: ""
                                font_size: "14sp"
                                size_hint_y: None
                                halign: "left"

                MDBoxLayout:
                    orientation: "horizontal"
                    pos_hint: {"center_x": 0.9, "center_y": 0.1}
                    spacing: 30

                    MDRectangleFlatIconButton:
                        icon: "printer"
                        text: "Вывести на печать"
                        font_size: "14sp"

                    MDRectangleFlatIconButton:
                        icon: "file-download"
                        text: "Сохранить в .jpeg"
                        font_size: "14sp"

#=====================================================================#
#/////////////////////////////////////////////////////////////////////#
#=====================================================================#

<HistoryOfReports>:
	MDBoxLayout:
	    orientation: "vertical"

	    MDToolbar:
	        title: "История отчётов"
	        md_bg_color: 0, 0, 1, 0
	        specific_text_color: "black"
	    	left_action_items: [["arrow-left", lambda x: app.back()]]

        MDBoxLayout:
            size_hint_x: None
            pos_hint: {"center_x": .3, "center_y": 1}
            size_hint_y: None

            MDGridLayout:
                cols: 3
                spacing: 30

                MDRectangleFlatIconButton:
                    id: delete
                    padding: [0, 0, 0, 0]
                    icon_color: 1, 0, 0, 1
                    text_color: 1, 0, 0, 1
                    line_color: 1, 0, 0, 1
                    icon: "trash-can-outline"
                    text: "Удалить"
                    disabled: True
                    on_release: root.delete_report()

                MDRectangleFlatIconButton:
                    id: print
                    icon: "printer"
                    padding: [0, 0, 0, 0]
                    #icon: "trash-can-outline"
                    text: "Распечатать"
                    disabled: True
                    on_release: root.print_report()

                MDRectangleFlatIconButton:
                    id: sjpg
                    icon: "file-download"
                    padding: [0, 0, 0, 0]
                    #icon: "trash-can-outline"
                    text: "Сохранить в .jpeg"
                    disabled: True
                    on_release: root.save_in_jpeg()
        MDBoxLayout:
            AnchorLayout:
                id: history
                anchor_x: "center"
                anchor_y: "top"
                pos_hint: {"center_x": .5, "center_y": .57}

#=====================================================================#
#/////////////////////////////////////////////////////////////////////#
#=====================================================================#

<ImportReport>:
	MDBoxLayout:
	    orientation: "vertical"
	    MDToolbar:
	        title: "Взять из файла"
	        md_bg_color: 0, 0, 1, 0
	        specific_text_color: "black"
	        left_action_items: [["arrow-left", lambda x: app.back()]]
	    MDLabel:
	        text: "Content"
	        halign: "center"

#=====================================================================#
#/////////////////////////////////////////////////////////////////////#
#=====================================================================#

<Statistics>:
	MDBoxLayout:
	    orientation: "vertical"
	    MDToolbar:
	        title: "Статистика"
	        md_bg_color: 0, 0, 1, 0
	        specific_text_color: "black"
	        left_action_items: [["arrow-left", lambda x: app.back()]]
	    MDLabel:
	        text: "Content"
	        halign: "center"

#=====================================================================#
#/////////////////////////////////////////////////////////////////////#
#=====================================================================#